apiVersion: v1
kind: ConfigMap
metadata:
  name: keycloak-email-themes
  namespace: cryptojackpot
  labels:
    app: keycloak
data:
  theme.properties: |
    parent=base

  messages_en.properties: |
    # Email subjects
    emailVerificationSubject=Verify your CryptoJackpot email
    passwordResetSubject=Reset your CryptoJackpot password
    executeActionsSubject=Action required for your CryptoJackpot account
    # Email titles
    emailTitle=CryptoJackpot
    # Required actions
    requiredAction.VERIFY_EMAIL=Verify your email address
    requiredAction.UPDATE_PASSWORD=Update your password
    requiredAction.CONFIGURE_TOTP=Configure two-factor authentication
    requiredAction.UPDATE_PROFILE=Update your profile

  messages_es.properties: |
    # Email subjects
    emailVerificationSubject=Verifica tu correo de CryptoJackpot
    passwordResetSubject=Restablece tu contraseña de CryptoJackpot
    executeActionsSubject=Acción requerida para tu cuenta de CryptoJackpot
    # Email titles
    emailTitle=CryptoJackpot
    # Required actions
    requiredAction.VERIFY_EMAIL=Verificar tu correo electrónico
    requiredAction.UPDATE_PASSWORD=Actualizar tu contraseña
    requiredAction.CONFIGURE_TOTP=Configurar autenticación de dos factores
    requiredAction.UPDATE_PROFILE=Actualizar tu perfil

  template.ftl: |
    <#macro emailLayout>
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>${msg("emailTitle", realmName)}</title>
    </head>
    <body style="margin: 0; padding: 0; background-color: #f4f4f4; width: 100% !important; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%;">
    <div style="background-color: #f4f4f4; padding: 40px 0; font-family: Arial, sans-serif;">
        <div style="background-color: #ffffff; margin: 0 auto; max-width: 600px; color: #333333;">
            <!-- Header -->
            <div style="background-color: #000000; padding: 20px; text-align: center;">
                <h1 style="margin: 0; font-size: 28px; color: #FFA500;">CryptoJackpot</h1>
            </div>
            <!-- Content -->
            <div style="padding: 20px; text-align: left; line-height: 1.5;">
                <#nested>
            </div>
            <!-- Footer -->
            <div style="background-color: #000000; padding: 15px; text-align: center; font-size: 12px; color: #cccccc;">
                © ${.now?string('yyyy')} CryptoJackpot. All rights reserved.
            </div>
        </div>
    </div>
    </body>
    </html>
    </#macro>

  email-verification.ftl: |
    <#import "template.ftl" as layout>
    <@layout.emailLayout>
        <h2 style="color: #000000; font-size: 22px; margin-top: 0; margin-bottom: 10px;">Welcome ${user.firstName}!</h2>
        <p style="margin: 0 0 15px; font-size: 16px;">Thank you for signing up. To complete your registration
            process, please confirm your email address by clicking on the activation button.</p>
        <p style="margin: 0 0 15px; font-size: 16px;">Date: ${.now?string('MMMM dd, yyyy')}</p>
        <!-- Button Container -->
        <div style="text-align: center; margin: 20px 0;">
            <a href="${link}"
               style="background-color: #FFA500; color: #ffffff; text-decoration: none; padding: 15px 25px; border-radius: 4px; display: inline-block; font-size: 16px;">Activate
                My Account</a>
        </div>
        <p style="margin: 0 0 15px; font-size: 16px;">If the button doesn't work, copy and paste the following link
            into your browser:</p>
        <p style="margin: 0; font-size: 16px; word-break: break-all;"><a href="${link}" style="color: #FFA500;">${link}</a></p>
        <p style="margin: 15px 0 0; font-size: 14px; color: #666666;">This link will expire in ${linkExpirationFormatter(linkExpiration)}.</p>
    </@layout.emailLayout>

  password-reset.ftl: |
    <#import "template.ftl" as layout>
    <@layout.emailLayout>
        <h2 style="color: #000000; font-size: 22px; margin-top: 0; margin-bottom: 10px;">Password Reset Request</h2>
        <p style="margin: 0 0 15px; font-size: 16px;">Hello ${user.firstName},</p>
        <p style="margin: 0 0 15px; font-size: 16px;">We received a request to reset your password. Click the button below to reset your password:</p>
        <!-- Button Container -->
        <div style="text-align: center; margin: 30px 0;">
            <a href="${link}"
               style="background-color: #FFA500; color: #ffffff; text-decoration: none; padding: 15px 25px; border-radius: 4px; display: inline-block; font-size: 16px; font-weight: bold;">Reset My Password</a>
        </div>
        <p style="margin: 0 0 15px; font-size: 16px;">If the button doesn't work, copy and paste the following link into your browser:</p>
        <p style="margin: 0 0 15px; font-size: 16px; word-break: break-all;"><a href="${link}" style="color: #FFA500;">${link}</a></p>
        <p style="margin: 0 0 15px; font-size: 16px;">Date: ${.now?string('MMMM dd, yyyy')}</p>
        <p style="margin: 0 0 15px; font-size: 16px; color: #d9534f;"><strong>Important:</strong> This link will expire in ${linkExpirationFormatter(linkExpiration)} for security reasons.</p>
        <p style="margin: 0 0 15px; font-size: 16px;">If you didn't request a password reset, please ignore this email or contact support if you have concerns.</p>
    </@layout.emailLayout>

  executeActions.ftl: |
    <#import "template.ftl" as layout>
    <@layout.emailLayout>
        <h2 style="color: #000000; font-size: 22px; margin-top: 0; margin-bottom: 10px;">Action Required</h2>
        <p style="margin: 0 0 15px; font-size: 16px;">Hello ${user.firstName},</p>
        <p style="margin: 0 0 15px; font-size: 16px;">Your account requires the following action(s):</p>
        <ul style="margin: 0 0 15px; padding-left: 20px; font-size: 16px;">
            <#list requiredActions as reqAction>
                <li style="margin-bottom: 8px;">${msg("requiredAction.${reqAction}")}</li>
            </#list>
        </ul>
        <!-- Button Container -->
        <div style="text-align: center; margin: 30px 0;">
            <a href="${link}"
               style="background-color: #FFA500; color: #ffffff; text-decoration: none; padding: 15px 25px; border-radius: 4px; display: inline-block; font-size: 16px; font-weight: bold;">Complete Action</a>
        </div>
        <p style="margin: 0 0 15px; font-size: 16px;">If the button doesn't work, copy and paste the following link into your browser:</p>
        <p style="margin: 0; font-size: 16px; word-break: break-all;"><a href="${link}" style="color: #FFA500;">${link}</a></p>
        <p style="margin: 15px 0 0; font-size: 14px; color: #666666;">This link will expire in ${linkExpirationFormatter(linkExpiration)}.</p>
    </@layout.emailLayout>

  # Text versions (plain text fallback)
  email-verification-text.ftl: |
    Welcome ${user.firstName}!
    
    Thank you for signing up at CryptoJackpot. To complete your registration process, please confirm your email address by clicking on the link below:
    
    ${link}
    
    This link will expire in ${linkExpirationFormatter(linkExpiration)}.
    
    If you didn't create an account with us, please ignore this email.
    
    ---
    CryptoJackpot

  password-reset-text.ftl: |
    Password Reset Request
    
    Hello ${user.firstName},
    
    We received a request to reset your password at CryptoJackpot. Click the link below to reset your password:
    
    ${link}
    
    This link will expire in ${linkExpirationFormatter(linkExpiration)} for security reasons.
    
    If you didn't request a password reset, please ignore this email or contact support if you have concerns.
    
    ---
    CryptoJackpot

  executeActions-text.ftl: |
    Action Required
    
    Hello ${user.firstName},
    
    Your CryptoJackpot account requires action. Click the link below to complete the required action(s):
    
    ${link}
    
    This link will expire in ${linkExpirationFormatter(linkExpiration)}.
    
    ---
    CryptoJackpot
